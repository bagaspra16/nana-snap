<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#4d4028">
  <title>Nana Snap - Photobooth Vintage</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body class="bg-vintageBg text-vintageText">
  <div id="leaves" class="hidden md:block">
    <i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i>
  </div>
  <!-- Flying Navbar -->
  <nav class="fixed top-4 left-4 right-4 z-50 flex items-center justify-between p-4 bg-vintageHeader shadow-lg rounded-lg transition-all duration-300" style="opacity: 0.95;">
    <div class="mb text-white font-bold text-xl">Nana Snap</div>
    <div class="relative">
      <button id="hamburger" class="group focus:outline-none transition-transform duration-300">
        <span class="hamburger-line block w-6 h-0.5 bg-white mb-1 transition-transform duration-300"></span>
        <span class="hamburger-line block w-6 h-0.5 bg-white mb-1 transition-transform duration-300"></span>
        <span class="hamburger-line block w-6 h-0.5 bg-white transition-transform duration-300"></span>
      </button>
      <div id="dropdown" class="absolute right-0 mt-2 w-56 bg-black rounded shadow-lg hidden transition-all duration-300">
        <a href="#" id="howToLink" class="block px-4 py-2 text-white-800 hover:bg-neutral-800">How to Use</a>
        <a href="#" id="supportLink" class="block px-4 py-2 text-white-800 hover:bg-neutral-800">Support the Creator</a>
      </div>
    </div>
  </nav>

  <!-- Landing Page --> 
  <section id="landing" class="min-h-screen flex flex-col justify-center items-center bg-animatedVintage relative transition-all duration-500 px-4 pb-12">
    <h1 class="mt-8 md:mt-12 text-4xl md:text-5xl font-bold mb-4 md:mb-6 animate-fadeIn">Nana Snap</h1>
    <img src="images/ilustrasi.png" alt="Ilustrasi Photobooth" class="mb-4 landing-illustration animate-fadeIn" />
    <p class="text-base md:text-lg text-center max-w-xl mb-6 md:mb-8 landing-description animate-fadeIn">
      Selamat datang di Nana Snap, solusi photobooth vintage yang modern dan interaktif. Ambil momen terbaik Anda dengan gaya klasik dan filter keren!
    </p>
    <button id="startButton" class="bg-vintageButton hover:bg-vintageButtonHover text-white font-bold py-2 md:py-3 px-4 md:px-6 rounded shadow-lg transition transform hover:scale-105">
      Snap the Moment
    </button>
  </section>

  <!-- Modal: Pilih Jumlah Foto -->
  <div id="photoCountModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
    <div class="bg-vintageBg p-8 rounded shadow-lg text-center animate-slideDown relative mx-2">
      <span class="modal-close absolute top-1 right-5 cursor-pointer">&times;</span>
      <h2 class="text-2xl font-bold mb-4">Pilih Jumlah Foto</h2>
      <div class="flex justify-center space-x-4">
        <button class="photo-count-btn bg-vintageButton hover:bg-vintageButtonHover text-white font-bold py-2 px-4 rounded transition-transform hover:scale-105" data-count="1">
          Single
        </button>
        <button class="photo-count-btn bg-vintageButton hover:bg-vintageButtonHover text-white font-bold py-2 px-4 rounded transition-transform hover:scale-105" data-count="3">
          Triple
        </button>
        <button class="photo-count-btn bg-vintageButton hover:bg-vintageButtonHover text-white font-bold py-2 px-4 rounded transition-transform hover:scale-105" data-count="6">
          Six
        </button>
      </div>
    </div>
  </div>

  <!-- Modal: How To Use -->
  <div id="howToModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
    <div class="bg-vintageBg p-8 rounded shadow-lg text-center animate-slideDown relative mx-2">
      <span class="modal-close absolute top-1 right-5 cursor-pointer">&times;</span>
      <h2 class="text-2xl font-bold mb-4">How to Use</h2>
      <div class="p-4 text-left">
        <p class="mb-2">1. Klik "Snap the Moment" pada landing page.</p>
        <p class="mb-2">2. Pilih jumlah foto yang diinginkan.</p>
        <p class="mb-2">3. Ikuti proses capture dengan countdown dan atur posisi foto di halaman gallery.</p>
        <p class="mb-2">4. Terapkan filter dan border sesuai selera, lalu download, share, atau print.</p>
      </div>
    </div>
  </div>

  <!-- Modal: Support the Creator -->
  <div id="supportModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
    <div class="bg-vintageBg p-8 rounded shadow-lg text-center animate-slideDown relative mx-2">
      <span class="modal-close absolute top-1 right-5 cursor-pointer">&times;</span>
      <h2 class="text-2xl font-bold mb-4">Support the Creator</h2>
      <div class="p-4">
        <img src="images/qris.jpeg" alt="QR Code" class="mx-auto mb-4 w-40 sm:w-48 md:w-56 lg:w-64 xl:w-72 h-auto" />
        <p class="mb-2">Jika Anda menyukai website ini, silakan dukung kami agar terus mengembangkan fitur-fitur terbaru!</p>
      </div>
    </div>
  </div>

  <!-- Capture Section -->
  <section id="captureSection" class="min-h-screen flex flex-col items-center justify-center bg-vintageBg hidden pt-16 md:pt-24 px-4">
    <div class="relative w-full max-w-2xl flex justify-center items-center">
      <video id="video" class="rounded-lg shadow-2xl w-full max-h-[80vh]" autoplay playsinline></video>
      <canvas id="canvas" class="hidden"></canvas>
      <!-- Countdown Overlay -->
      <div id="countdownOverlay" class="absolute rounded-lg inset-0 flex items-center justify-center text-8xl text-white font-bold bg-black bg-opacity-50 hidden"></div>
      <!-- Flash Overlay -->
      <div id="flashOverlay" class="absolute inset-0 bg-white opacity-0 pointer-events-none"></div>
      <!-- Tombol Capture di tengah -->
      <button id="capture" class="absolute flex items-center justify-center bg-vintageButton hover:bg-vintageButtonHover text-white font-bold rounded-full shadow-xl transition-transform hover:scale-105" style="width: 120px; height: 120px;">
        Capture
      </button>
    </div>
  </section>

  <!-- Gallery Composite Section -->
  <section id="gallerySection" class="min-h-screen flex flex-col items-center justify-start bg-vintageBg hidden pt-24 px-4">
    <!-- Control Panel (Filter & Border) -->
    <div id="controlPanel" class="mb-6 flex flex-col items-center space-y-3 w-full max-w-3xl px-2">
      <div id="filterControls" class="flex flex-wrap justify-center gap-2">
        <span class="font-bold">Filter:</span>
        <button class="filter-btn bg-vintageButton hover:bg-vintageButtonHover text-white font-bold py-1 px-2 rounded" data-filter="none">Normal</button>
        <button class="filter-btn bg-vintageButton hover:bg-vintageButtonHover text-white font-bold py-1 px-2 rounded" data-filter="sepia">Sepia</button>
        <button class="filter-btn bg-vintageButton hover:bg-vintageButtonHover text-white font-bold py-1 px-2 rounded" data-filter="grayscale">Grayscale</button>
        <button class="filter-btn bg-vintageButton hover:bg-vintageButtonHover text-white font-bold py-1 px-2 rounded" data-filter="invert">Invert</button>
      </div>
      <div id="borderControls" class="flex flex-wrap justify-center gap-2">
        <span class="font-bold">Border:</span>
        <button class="border-btn bg-vintageButton hover:bg-vintageButtonHover text-white font-bold py-1 px-2 rounded" data-border="romantic">Romantic</button>
        <button class="border-btn bg-vintageButton hover:bg-vintageButtonHover text-white font-bold py-1 px-2 rounded" data-border="horror">Horror</button>
        <button class="border-btn bg-vintageButton hover:bg-vintageButtonHover text-white font-bold py-1 px-2 rounded" data-border="cool">Cool</button>
        <button class="border-btn bg-vintageButton hover:bg-vintageButtonHover text-white font-bold py-1 px-2 rounded" data-border="classic">Classic</button>
        <button class="border-btn bg-vintageButton hover:bg-vintageButtonHover text-white font-bold py-1 px-2 rounded" data-border="modern">Modern</button>
        <button class="border-btn bg-vintageButton hover:bg-vintageButtonHover text-white font-bold py-1 px-2 rounded" data-border="artistic">Artistic</button>
      </div>
    </div>

    <!-- Composite Container -->
    <div id="compositeContainer" class="composite-container mb-6 relative mx-auto"></div>

    <button id="doneButton" class="mt-5 mb-4 bg-vintageButton hover:bg-vintageButtonHover text-white font-bold py-3 px-8 rounded shadow-lg transition-transform hover:scale-105">
      Done
    </button>
  </section>

  <!-- Result Section -->
  <section id="resultsSection" class="min-h-screen flex flex-col items-center justify-start bg-vintageBg hidden pt-16 md:pt-24 px-4">
  <h2 class="text-2xl md:text-3xl font-bold mb-4 md:mb-6">Hasil Photo Booth</h2>  
  
  <!-- Final Composite Container -->
  <div id="finalCompositeContainer" class="mb-4 md:mb-6 relative mx-auto"></div>
  
  <div class="mt-5 flex flex-wrap justify-center gap-3 mb-4">
    <button id="finalDownloadButton" class="bg-vintageButton hover:bg-vintageButtonHover text-white font-bold py-2 px-4 rounded transition-transform hover:scale-105">
      Download
    </button>
    <button id="finalShareButton" class="bg-vintageButton hover:bg-vintageButtonHover text-white font-bold py-2 px-4 rounded transition-transform hover:scale-105">
      Share
    </button>
    <button id="startOverButton" class="bg-vintageButton hover:bg-vintageButtonHover text-white font-bold py-2 px-4 rounded transition-transform hover:scale-105">
      Start Over
    </button>
  </div>
</section>

  <!-- Modal: Opsi Done -->
  <div id="doneOptionsModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
    <div class="bg-vintageBg p-8 rounded shadow-lg text-center animate-fadeIn relative mx-2">
      <span class="modal-close absolute top-1 right-5 cursor-pointer">&times;</span>
      <h2 class="text-2xl font-bold mb-4">Selesaikan & Bagikan</h2>
      <div class="flex justify-center space-x-4 mb-4">
        <button id="downloadButton" class="bg-vintageButton hover:bg-vintageButtonHover text-white font-bold py-2 px-4 rounded transition-transform hover:scale-105">
          Download
        </button>
        <button id="shareButton" class="bg-vintageButton hover:bg-vintageButtonHover text-white font-bold py-2 px-4 rounded transition-transform hover:scale-105">
          Share
        </button>
        <button id="printButton" class="bg-vintageButton hover:bg-vintageButtonHover text-white font-bold py-2 px-4 rounded transition-transform hover:scale-105">
          Print
        </button>
      </div>
    </div>
  </div>

  <!-- Modal Validation -->
<div id="validationModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
  <div class="bg-vintageBg p-8 rounded shadow-lg text-center animate-fadeIn relative mx-2">
    <span class="modal-close absolute top-1 right-5 cursor-pointer">&times;</span>
    <h2 class="text-2xl font-bold mb-4">Konfirmasi</h2>
    <p class="mb-4">Anda yakin dengan hasil photo booth ini? Setelah konfirmasi, foto tidak dapat diubah lagi.</p>
    <div class="flex justify-center space-x-4">
      <button id="confirmYesButton" class="bg-vintageButton hover:bg-vintageButtonHover text-white font-bold py-2 px-4 rounded transition-transform hover:scale-105">
        Ya
      </button>
      <button id="confirmNoButton" class="bg-vintageButton hover:bg-vintageButtonHover text-white font-bold py-2 px-4 rounded transition-transform hover:scale-105">
        Tidak
      </button>
    </div>
  </div>
</div>

  <!-- Footer -->
  <footer class="bg-vintageHeader text-white py-4 text-center">
    <p><a href="https://bagaspra16-portfolio.vercel.app/">Bagaspra16</a> &mdash; 2025</p>
  </footer>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="js/script.js"></script>
  <div id="results-leaves" class="hidden">
    <i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i>
  </div>
</body>
</html>
